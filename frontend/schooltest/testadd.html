<html>
<head>
    <title>试题创建页面</title>
    <meta charset="utf-8">
    <meta content="width=device-width, initial-scale=1" name="viewport">
    <link href="https://cdn.bootcss.com/bootstrap/4.1.0/css/bootstrap.min.css" rel="stylesheet" rel="external nofollow"
          rel="external nofollow" target="_blank" target="_blank">
    <script rel="external nofollow" rel="external nofollow"
            src="https://cdn.bootcss.com/jquery/3.2.1/jquery.min.js"></script>
    <script rel="external nofollow" rel="external nofollow"
            src="https://cdn.bootcss.com/popper.js/1.12.5/umd/popper.min.js"></script>
    <script rel="external nofollow" rel="external nofollow"
            src="https://cdn.bootcss.com/bootstrap/4.1.0/js/bootstrap.min.js"></script>
    <script src="http://static.runoob.com/assets/jquery-validation-1.14.0/lib/jquery.js"></script>
    <script src="http://static.runoob.com/assets/jquery-validation-1.14.0/dist/jquery.validate.min.js"></script>
</head>
<body>
<div class="container">
    <h2>测试添加，分值10分</h2>
    <form id="e1">
        <div class="form-group">
            <label for="title">标题</label>
            <input class="form-control" id="title" placeholder="在这里输入本次测试标题" required type="text">
        </div>
        <div id="timus">
        </div>
        <button class="btn btn-info" id="additem" type="button">添加题目</button>
        <button class="btn btn-warning" id="removeitem" type="button">删除题目</button>
        <button class="btn btn-primary" id="send" type="submit">发布</button>
    </form>

</div>
</body>
<script>
    $(document).ready(function () {
        $("#removeitem").attr("disabled", true);
        $("#send").attr("disabled", true);
        $("#aped").hide()
        String.prototype.format = function () {
            var formatted = this;
            for (var arg in arguments) {
                formatted = formatted.replace("{" + arg + "}", arguments[arg]);
            }
            return formatted;
        };
        var ids = 0
        $("#removeitem").click(function () {
            var id = "#aped" + ((ids).toString())
            $(id).remove()
            if (ids > 0)
                ids--
            if (ids === 0) {
                $("#removeitem").attr("disabled", true);
                $("#send").attr("disabled", true);
            }

        })
        $("#additem").click(function () {
            $("#removeitem").attr("disabled", false);
            $("#send").attr("disabled", false);
            ids++
            // var ited = $("#aped").clone().attr('id', "aped" + ((++ids).toString())).show()
            var ited = "<div id=\"aped" + ids + "\">\n" +
                "            <div class=\"form-group\">\n" +
                "                <label for=\"questionitem" + ids + "\">题目" + ids + "</label>\n" +
                "                <textarea  class=\"form-control\" id=\"questionitem" + ids + "\" placeholder=\"在这里输入你的题目\" type=\"text\" name='titlem' required>" + "</textarea >" + "\n" +
                "                <textarea  class=\"form-control\" id=\"selsct" + ids + "\" placeholder=\"在这里输入你的选项（每个选项空格）\" type=\"text\" name='shce' required>" + "</textarea >" + "\n" +
                "                <textarea  class=\"form-control\" id=\"answers" + ids + "\" placeholder=\"在这里输入你的答案（目前只支持单选题目）\" type=\"text\" name='answ' required>" + "</textarea >" + "\n" +
                "            </div>\n" +
                "        </div>"
            $("#timus").append(ited)
        })
        $("#send").click(function (event) {
            var setyuser = false
            for (var i = 1; i < ids + 1; i++) {
                var t1 = "#questionitem" + ids.toString()
                var t2 = "#selsct" + ids.toString()
                var t3 = "#answers" + ids.toString()
                if ($(t1).val() === "" || $(t2).val() === "" || $(t3).val() === "") {

                }
            }
            if (setyuser)
                event.preventDefault();
        })
    })
</script>
</html>